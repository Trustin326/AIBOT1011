<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Tha DollHouse ‚Äî AI Bot Collection</title>

  <!-- Fancy font -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Playfair+Display:wght@400;600&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --teal:#0ab3b3;
      --cream:#fff7ea;
      --gold:#d8b461;
      --black:#0b0b0f;
      --ink:#12121a;
      --panel: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.14);
      --shadow: 0 18px 60px rgba(0,0,0,.25);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Montserrat, system-ui, -apple-system, Arial, sans-serif;
      background: radial-gradient(1000px 700px at 20% 0%, rgba(10,179,179,.25), transparent 55%),
                  radial-gradient(900px 650px at 80% 10%, rgba(216,180,97,.18), transparent 60%),
                  linear-gradient(180deg,#07070A,#0B0B0F);
      color:#fff;
      overflow-x:hidden;
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1200px;margin:0 auto;padding:26px}
    header{
      text-align:center;
      padding:28px 0 18px;
    }
    .logoTitle{
      font-family: Cinzel, serif;
      font-weight:700;
      letter-spacing:.02em;
      font-size:44px;
      margin:0 0 10px;
      background: linear-gradient(90deg, var(--gold), #fff, var(--teal));
      -webkit-background-clip: text;
      background-clip:text;
      color:transparent;
      text-shadow: 0 12px 40px rgba(0,0,0,.35);
    }
    .tagline{
      font-family: "Playfair Display", serif;
      font-size:18px;
      line-height:1.7;
      max-width:980px;
      margin:0 auto;
      opacity:.92;
      color:#f3f2ee;
    }
    .subNote{
      margin-top:10px;
      font-size:14px;
      opacity:.85;
      color:#e9e6de;
    }

    /* Top bar */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      margin-top:18px;
      padding:14px 14px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.06);
      border-radius: 16px;
      box-shadow: var(--shadow);
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.25);
      font-size:13px;
      white-space:nowrap;
    }
    .badge strong{color:var(--gold)}
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      border-radius: 14px;
      padding:12px 16px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.07);
      cursor:pointer;
      font-weight:600;
      transition:.2s ease;
      white-space:nowrap;
    }
    .btn:hover{transform:translateY(-1px); background: rgba(255,255,255,.10)}
    .btn.primary{
      background: linear-gradient(135deg, var(--teal), rgba(216,180,97,.85));
      color:#071014;
      border: none;
    }
    .btn.gold{
      background: linear-gradient(135deg, var(--gold), #ffe6a6);
      color:#15120b;
      border:none;
    }
    .btn.dark{
      background:#0f0f14;
      border:1px solid rgba(255,255,255,.16);
    }

    /* Gallery */
    .gallery{
      margin: 22px 0 18px;
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
      gap:18px;
    }
    .card{
      position:relative;
      border-radius: var(--radius);
      overflow:hidden;
      box-shadow: 0 16px 46px rgba(0,0,0,.30);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      transition:.18s ease;
      cursor:pointer;
    }
    .card:hover{transform: translateY(-3px); box-shadow: 0 22px 64px rgba(0,0,0,.35)}
    .card img{
      width:100%;
      height:auto;
      display:block;
    }
    .card .overlay{
      position:absolute;
      left:0; right:0; bottom:0;
      padding:14px 14px 16px;
      background: linear-gradient(180deg, transparent, rgba(0,0,0,.75));
    }
    .card .overlay h3{
      margin:0;
      font-size:16px;
      letter-spacing:.02em;
      font-weight:700;
    }
    .card .overlay p{
      margin:6px 0 0;
      font-size:13px;
      opacity:.9;
    }

    /* Panels */
    .panel{
      margin-top:18px;
      border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .panelHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:16px 16px;
      border-bottom:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
    }
    .panelHead h2{
      margin:0;
      font-size:18px;
      letter-spacing:.02em;
      font-weight:800;
    }
    .panelBody{padding:16px}

    /* Login */
    .grid2{display:grid; grid-template-columns: 1fr 1fr; gap:14px}
    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    input, textarea, select{
      width:100%;
      padding:12px 12px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.25);
      color:#fff;
      outline:none;
      font-family: inherit;
    }
    textarea{min-height:120px; resize:vertical}
    .small{font-size:12px; opacity:.85}

    /* Demo UI */
    .demoTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .tabs{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .tab{
      padding:10px 12px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      cursor:pointer;
      font-weight:700;
      font-size:13px;
    }
    .tab.active{
      background: linear-gradient(135deg, rgba(10,179,179,.92), rgba(216,180,97,.78));
      color:#071014;
      border:none;
    }
    .demoBox{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
      margin-top:10px;
    }
    .chatWindow{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      padding:12px;
      min-height: 270px;
      overflow:auto;
    }
    .msg{
      max-width: 90%;
      padding:10px 12px;
      border-radius: 14px;
      margin:8px 0;
      font-size:14px;
      line-height:1.4;
      white-space:pre-wrap;
    }
    .me{margin-left:auto;background: rgba(10,179,179,.20); border:1px solid rgba(10,179,179,.35)}
    .ai{background: rgba(255,255,255,.07); border:1px solid rgba(255,255,255,.14)}
    .demoRight{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      padding:12px;
    }
    .kpiRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin:10px 0 12px;
    }
    .pill{
      padding:8px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      font-size:12px;
      opacity:.92;
    }
    .notice{
      display:none;
      margin-top:10px;
      padding:12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.28);
    }
    .notice strong{color:var(--gold)}
    .muted{opacity:.85}
    .hidden{display:none !important}

    @media (max-width: 980px){
      .demoBox{grid-template-columns: 1fr}
      .grid2{grid-template-columns:1fr}
      .logoTitle{font-size:38px}
    }
  </style>
</head>

<body>
<div class="wrap">
  <header>
    <h1 class="logoTitle">Tha DollHouse</h1>
    <p class="tagline">
      Welcome to Tha DollHouse AI Bot Collection ‚Äî your exclusive suite of intelligent digital tools crafted to help you work smarter, automate faster, and earn from anywhere. Each bot is designed to streamline your business, spark creativity, and open new income streams right from home ‚Äî whether you‚Äôre building your brand, managing clients, or selling digital products.
      <br><br>
      ‚ú® Tap any pricing card to open a live demo page. Each bot is just <b>$39</b> ‚Äî your gateway to effortless automation and home-based income growth.
    </p>
    <div class="subNote">Luxury aesthetic ‚Ä¢ Teal ‚Ä¢ Cream ‚Ä¢ Black ‚Ä¢ Gold Metallic</div>
  </header>

  <!-- TOP BAR -->
  <div class="topbar">
    <div class="badge" id="statusBadge">Status: <strong>Guest</strong> ‚Ä¢ Limited previews</div>
    <div style="display:flex;gap:10px;flex-wrap:wrap;justify-content:center">
      <button class="btn primary" onclick="openLogin()">Login</button>
      <button class="btn dark" onclick="logout()">Logout</button>
      <button class="btn gold" onclick="goHome()">Home</button>
    </div>
  </div>

  <!-- GALLERY -->
  <div id="homeView">
    <div class="gallery" id="botGallery"></div>
  </div>

  <!-- LOGIN PANEL -->
  <section class="panel hidden" id="loginPanel">
    <div class="panelHead">
      <h2>Login</h2>
      <div class="badge">Owner / Buyer Access</div>
    </div>
    <div class="panelBody">
      <div class="grid2">
        <div class="field">
          <label>Email</label>
          <input id="loginEmail" placeholder="owner@thadollhouse.ai"/>
          <div class="small muted">Owner: owner@thadollhouse.ai</div>
        </div>
        <div class="field">
          <label>Password</label>
          <input id="loginPass" type="password" placeholder="OwnerAccess39!"/>
          <div class="small muted">Owner password: OwnerAccess39!</div>
        </div>
      </div>
      <div style="display:flex;gap:10px;margin-top:12px;flex-wrap:wrap">
        <button class="btn primary" onclick="doLogin()">Login</button>
        <button class="btn" onclick="closeLogin()">Close</button>
      </div>
      <div class="notice" id="loginNotice" style="display:block;margin-top:12px">
        <strong>Tip:</strong> Owner login unlocks Admin view + unlimited features for all bots.
      </div>
    </div>
  </section>

  <!-- DEMO PANEL -->
  <section class="panel hidden" id="demoPanel">
    <div class="panelHead">
      <h2 id="demoTitle">Bot Demo</h2>
      <div style="display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn" onclick="goHome()">‚Üê Back</button>
        <a class="btn gold" id="buyBtn" href="#" target="_blank">Buy $39</a>
      </div>
    </div>

    <div class="panelBody">
      <div class="demoTop">
        <div class="tabs">
          <button class="tab active" id="tabChat" onclick="setMode('chat')">Chat Mode</button>
          <button class="tab" id="tabFeature" onclick="setMode('feature')">Feature Mode</button>
        </div>

        <div class="badge" id="runBadge">Free runs left: <strong>3</strong></div>
      </div>

      <div class="kpiRow" id="featureBadges"></div>

      <div class="demoBox">
        <div>
          <div class="field">
            <label><b>Choose a feature</b></label>
            <select id="featureSelect" onchange="loadFeatureSamples()"></select>
            <div class="small muted">Pick what you want this bot to generate.</div>
          </div>

          <div class="field" style="margin-top:10px">
            <label><b>Sample options (3+)</b></label>
            <select id="sampleSelect" onchange="fillFromSample()"></select>
            <div class="small muted">Select a sample, then edit it to make it yours.</div>
          </div>

          <div class="field" style="margin-top:10px">
            <label><b>Your input</b></label>
            <textarea id="userInput" placeholder="Type anything here..."></textarea>
          </div>

          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
            <button class="btn primary" onclick="runDemo()">Run</button>
            <button class="btn" onclick="clearChat()">Clear</button>
            <button class="btn" onclick="copyOutput()">Copy Output</button>
          </div>

          <div class="notice" id="upgradeNotice">
            <strong>Upgrade to unlock unlimited use.</strong><br/>
            Your free demo runs are used up. Click <b>Buy $39</b> above to unlock full access.
          </div>
        </div>

        <div class="demoRight">
          <div style="font-weight:800;margin-bottom:8px">Live Output</div>
          <div class="chatWindow" id="chatWindow"></div>
          <div class="small muted" style="margin-top:8px">
            This demo simulates premium responses. After purchase, this becomes unlimited.
          </div>
        </div>
      </div>
    </div>
  </section>

</div>

<script>
/** -------------------------
 *  Stripe Checkout Links (in the requested order)
 *  Coach AI, promopix, sellerpro, designdiva, glambot, chefgenie, writerssx, bizbot
 *  ------------------------- */
const STRIPE = {
  coachai:   "https://buy.stripe.com/cNi28r0Dy1eH3sU7j32880m",
  promopix:  "https://buy.stripe.com/4gM00jfys5uX9Ri5aV2880n",
  sellerpro: "https://buy.stripe.com/cNicN50Dyg9B0gIavf2880o",
  designdiva:"https://buy.stripe.com/7sYbJ12LGe1tgfG1YJ2880p",
  glambot:   "https://buy.stripe.com/8x26oH5XSaPh9Ri8n72880q",
  chefgenie: "https://buy.stripe.com/14A00j71WbTl2oQ46R2880r",
  writersx:  "https://buy.stripe.com/14A9AT4TObTlgfGfPz2880s",
  bizbot:    "https://buy.stripe.com/14A7sL860g9B4wYeLv2880t"
};

/** -------------------------
 *  Bot cards (use your actual image paths)
 *  Place these images in: assets/img/cards/
 *  ------------------------- */
const BOT_CARDS = [
  {slug:"coachai", title:"CoachAI", desc:"Mindset, motivation & planning coach", img:"assets/img/cards/card_coachai.png"},
  {slug:"promopix", title:"PromoPix", desc:"Captions, hooks & social content", img:"assets/img/cards/card_promopix.png"},
  {slug:"sellerpro", title:"SellerPro", desc:"Offers, pricing & sales funnels", img:"assets/img/cards/card_sellerpro.png"},
  {slug:"designdiva", title:"DesignDiva", desc:"Brand, templates & visuals", img:"assets/img/cards/card_designdiva.png"},
  {slug:"glambot", title:"GlamBot", desc:"Beauty, fashion & style assistant", img:"assets/img/cards/card_glambot.png"},
  {slug:"chefgenie", title:"ChefGenie", desc:"Luxury recipes & meal ideas", img:"assets/img/cards/card_chefgenie.png"},
  {slug:"writersx", title:"WriterSX", desc:"Long-form writing & outlines", img:"assets/img/cards/card_writerx.png"},
  {slug:"bizbot", title:"BizBot", desc:"Offers, scripts & income ideas", img:"assets/img/cards/card_bizbot.png"},
];

/** -------------------------
 *  Unique features + samples per bot
 *  ------------------------- */
const BOT_FEATURES = {
  coachai: {
    accent:"#0ab3b3",
    welcome:"Hi, I‚Äôm CoachAI ‚Äî let‚Äôs plan your success!",
    features:{
      "Mindset Reset":"Rewrite negative thoughts into empowering beliefs.",
      "30-Day Plan":"Build a realistic habit + goal plan.",
      "Motivation Script":"Write a daily hype-up script for success."
    },
    samples:{
      "Mindset Reset":[
        "I keep procrastinating. Help me reframe this into a powerful mindset.",
        "I feel behind in life. Help me reset my thoughts for success.",
        "I‚Äôm scared to start. Give me confidence and an action plan."
      ],
      "30-Day Plan":[
        "Create a 30-day plan for launching my $39 AI bot site.",
        "Build a 30-day routine for weight loss and discipline.",
        "Create a 30-day schedule to post content daily and gain sales."
      ],
      "Motivation Script":[
        "Write a motivational script for entrepreneurs building an empire.",
        "Write a script that makes me feel unstoppable today.",
        "Write a mindset script for moms building income from home."
      ]
    }
  },

  promopix:{
    accent:"#13a6a6",
    welcome:"Hey, I‚Äôm PromoPix ‚Äî let‚Äôs boost your brand visuals!",
    features:{
      "Caption Generator":"Scroll-stopping captions that convert.",
      "Hashtag Set":"Smart hashtags for reach + ranking.",
      "Content Calendar":"A weekly plan with post ideas."
    },
    samples:{
      "Caption Generator":[
        "Write 5 captions for a luxury beauty brand launch.",
        "Write captions for my $7 digital product funnel.",
        "Write TikTok captions for an AI bot collection sale."
      ],
      "Hashtag Set":[
        "Give me hashtags for passive income content on TikTok.",
        "Hashtags for luxury businesswoman branding.",
        "Hashtags for Pinterest digital products."
      ],
      "Content Calendar":[
        "Create a 7-day calendar for selling AI bots at $39.",
        "Create a weekly posting plan for Etsy + Pinterest.",
        "Build a 7-day calendar for fitness + glow up content."
      ]
    }
  },

  sellerpro:{
    accent:"#0c554f",
    welcome:"Welcome to SellerPro ‚Äî let‚Äôs scale your sales smartly!",
    features:{
      "Offer Builder":"Build a high-converting offer in minutes.",
      "Pricing Strategy":"Choose prices + upsells that increase revenue.",
      "Sales Page Outline":"A full landing page structure."
    },
    samples:{
      "Offer Builder":[
        "Build an offer for my AI bot membership at $39/mo.",
        "Create an offer for a $7 digital product bundle.",
        "Offer idea for a luxury meal plan subscription."
      ],
      "Pricing Strategy":[
        "Give me pricing tiers for my AI bot store.",
        "Create upsells for a $39 product that increase AOV.",
        "Pricing strategy for a wedding planner toolkit."
      ],
      "Sales Page Outline":[
        "Outline a sales page for my PromoPix bot.",
        "Write a landing page outline for a paid fitness app.",
        "Create a landing page outline for my recipe marketplace."
      ]
    }
  },

  designdiva:{
    accent:"#b9922d",
    welcome:"Hi! I‚Äôm DesignDiva ‚Äî your creative partner in style.",
    features:{
      "Brand Palette":"Luxury color palettes + font pairing.",
      "Template Ideas":"Post templates + layout concepts.",
      "Design Copy":"Hero headlines + microcopy."
    },
    samples:{
      "Brand Palette":[
        "Create a teal/cream/gold palette for a luxury AI bot brand.",
        "Give me color palettes for a high-end wedding brand.",
        "Give me palettes for an upscale food + recipe brand."
      ],
      "Template Ideas":[
        "Give me 10 Canva post templates for a product launch.",
        "Give me 10 Pinterest pin layout ideas.",
        "Give me 10 TikTok cover ideas for my bots."
      ],
      "Design Copy":[
        "Write 10 hero headlines for a luxury SaaS.",
        "Write microcopy for pricing cards + CTA buttons.",
        "Write short taglines for each of my 8 bots."
      ]
    }
  },

  glambot:{
    accent:"#d8b461",
    welcome:"Hey gorgeous, I‚Äôm GlamBot ‚Äî let‚Äôs glam your brand!",
    features:{
      "Glow-Up Plan":"Beauty routine + confidence plan.",
      "Outfit Stylist":"Outfit ideas based on style + vibe.",
      "Skincare Picks":"Routine suggestions with steps."
    },
    samples:{
      "Glow-Up Plan":[
        "Create a 14-day glow-up plan for confidence and beauty.",
        "Glow-up plan for a busy mom with little time.",
        "Glow-up plan for a businesswoman aesthetic."
      ],
      "Outfit Stylist":[
        "Give me 10 luxury office outfit ideas with gold accessories.",
        "Outfit ideas for a photo shoot launch day.",
        "Outfits for a classy black/white/gold look."
      ],
      "Skincare Picks":[
        "Build a simple skincare routine for glowing skin.",
        "Routine for oily skin + dark spots.",
        "Skincare routine for dry skin in winter."
      ]
    }
  },

  chefgenie:{
    accent:"#f7b85b",
    welcome:"Bon app√©tit! I‚Äôm ChefGenie ‚Äî let‚Äôs cook up success.",
    features:{
      "Luxury Meal Idea":"Create a gourmet meal plan idea.",
      "Recipe From Ingredients":"Turn pantry items into magic.",
      "Nutrition Breakdown":"Calories, protein, carbs estimates."
    },
    samples:{
      "Luxury Meal Idea":[
        "Create a luxury dinner menu for date night.",
        "Luxury meal ideas for meal prep (healthy + tasty).",
        "Create a brunch menu with gourmet flavors."
      ],
      "Recipe From Ingredients":[
        "I have chicken, quinoa, bok choy ‚Äî create a recipe.",
        "I have shrimp, rice, garlic ‚Äî make it fancy.",
        "I have salmon, spinach, lemon ‚Äî create a dish."
      ],
      "Nutrition Breakdown":[
        "Estimate nutrition for salmon + quinoa + veggies.",
        "Calories for chicken salad with avocado.",
        "Protein estimate for shrimp bowl meal prep."
      ]
    }
  },

  writersx:{
    accent:"#000000",
    welcome:"Hi, I‚Äôm WriterSX ‚Äî let‚Äôs craft golden words together.",
    features:{
      "Blog Post":"Long-form SEO blog post draft.",
      "Sales Email":"Email that sells with personality.",
      "Story Outline":"Plot + character + scenes."
    },
    samples:{
      "Blog Post":[
        "Write a blog post about selling $7 products online.",
        "Write a blog post on how to monetize AI tools.",
        "Write a blog post about Pinterest affiliate marketing."
      ],
      "Sales Email":[
        "Write an email selling my $39 AI bot collection.",
        "Write an email selling a $7 digital blueprint.",
        "Write an upsell email for a premium coaching offer."
      ],
      "Story Outline":[
        "Outline a story about building an empire from home.",
        "Outline a romance story with luxury vibes.",
        "Outline a motivational story for entrepreneurs."
      ]
    }
  },

  bizbot:{
    accent:"#009f8a",
    welcome:"Hello CEO! I‚Äôm BizBot ‚Äî your business power partner.",
    features:{
      "Income Idea":"Digital product ideas + angles.",
      "Funnel Map":"Steps for converting traffic to sales.",
      "Script Builder":"Short sales video script."
    },
    samples:{
      "Income Idea":[
        "Give me 5 AI bot product ideas to sell for $39.",
        "Give me 10 $7 products I can make on Canva.",
        "Give me a luxury niche I can monetize fast."
      ],
      "Funnel Map":[
        "Build a simple funnel for my AI bot store.",
        "Create a funnel for Pinterest traffic to sales.",
        "Build a funnel for TikTok to email list."
      ],
      "Script Builder":[
        "Write a 30-second TikTok script selling my bots.",
        "Write a short pitch script for PromoPix.",
        "Write a sales script for a luxury meal plan product."
      ]
    }
  }
};

/** -------------------------
 *  Auth (ONE FILE)
 *  ------------------------- */
const USERS = [
  { email:"owner@thadollhouse.ai", password:"OwnerAccess39!", role:"owner" },
  { email:"buyer@thadollhouse.ai", password:"BuyerDemo39!", role:"buyer" }
];

let currentUser = null;
let currentBot = null;
let currentMode = "chat";
let freeRuns = {}; // per bot

function boot(){
  // default free runs per bot
  BOT_CARDS.forEach(b=>{
    if(localStorage.getItem("runs_"+b.slug)===null){
      localStorage.setItem("runs_"+b.slug,"3");
    }
  });

  renderGallery();
  refreshStatus();
}

function renderGallery(){
  const g=document.getElementById("botGallery");
  g.innerHTML="";
  BOT_CARDS.forEach(b=>{
    const div=document.createElement("div");
    div.className="card";
    div.onclick=()=>openBot(b.slug);
    div.innerHTML=`
      <img src="${b.img}" alt="${b.title}">
      <div class="overlay">
        <h3>${b.title}</h3>
        <p>${b.desc} ‚Ä¢ <b>$39</b> ‚Ä¢ Tap to Demo</p>
      </div>
    `;
    g.appendChild(div);
  });
}

/** -------------------------
 *  Login UI
 *  ------------------------- */
function openLogin(){
  document.getElementById("loginPanel").classList.remove("hidden");
  document.getElementById("demoPanel").classList.add("hidden");
}
function closeLogin(){
  document.getElementById("loginPanel").classList.add("hidden");
}
function doLogin(){
  const email=document.getElementById("loginEmail").value.trim();
  const pass=document.getElementById("loginPass").value.trim();
  const u=USERS.find(x=>x.email===email && x.password===pass);
  if(!u){ alert("Invalid login."); return; }
  currentUser=u;
  localStorage.setItem("userRole",u.role);
  localStorage.setItem("userEmail",u.email);
  closeLogin();
  refreshStatus();
  alert(u.role==="owner" ? "Owner access enabled ‚úÖ Full unlock." : "Buyer access enabled ‚úÖ Full features.");
}
function logout(){
  currentUser=null;
  localStorage.removeItem("userRole");
  localStorage.removeItem("userEmail");
  refreshStatus();
  alert("Logged out.");
}
function refreshStatus(){
  const role=localStorage.getItem("userRole") || "guest";
  const badge=document.getElementById("statusBadge");
  if(role==="owner"){
    badge.innerHTML = `Status: <strong>Owner</strong> ‚Ä¢ Unlimited Access`;
  }else if(role==="buyer"){
    badge.innerHTML = `Status: <strong>Buyer</strong> ‚Ä¢ Full Access`;
  }else{
    badge.innerHTML = `Status: <strong>Guest</strong> ‚Ä¢ 3 free runs per bot`;
  }
}

/** -------------------------
 *  Home / Bot view
 *  ------------------------- */
function goHome(){
  document.getElementById("homeView").classList.remove("hidden");
  document.getElementById("demoPanel").classList.add("hidden");
  document.getElementById("loginPanel").classList.add("hidden");
  currentBot=null;
}

function openBot(slug){
  currentBot=slug;
  document.getElementById("homeView").classList.add("hidden");
  document.getElementById("loginPanel").classList.add("hidden");
  document.getElementById("demoPanel").classList.remove("hidden");

  const bot=BOT_CARDS.find(b=>b.slug===slug);
  const cfg=BOT_FEATURES[slug];

  document.getElementById("demoTitle").textContent = `${bot.title} ‚Äî Live Demo`;
  document.getElementById("buyBtn").href = STRIPE[slug] || "#";

  // Set runs
  const role=localStorage.getItem("userRole")||"guest";
  const runs = role==="owner" || role==="buyer" ? 999 : parseInt(localStorage.getItem("runs_"+slug)||"3",10);
  freeRuns[slug]=runs;
  updateRunBadge();

  // Feature selector
  const featSelect=document.getElementById("featureSelect");
  featSelect.innerHTML="";
  Object.keys(cfg.features).forEach(k=>{
    const opt=document.createElement("option");
    opt.value=k;
    opt.textContent=k;
    featSelect.appendChild(opt);
  });

  // feature badges (names above demo)
  const badges=document.getElementById("featureBadges");
  badges.innerHTML="";
  Object.keys(cfg.features).forEach(k=>{
    const p=document.createElement("div");
    p.className="pill";
    p.textContent=k;
    badges.appendChild(p);
  });

  // set theme accent
  document.documentElement.style.setProperty("--teal", cfg.accent);

  // Load samples + welcome
  loadFeatureSamples();
  clearChat();
  addMsg("ai", cfg.welcome);
  addMsg("ai", "Pick a feature above, choose a sample, or type your own input. Then click RUN.");
}

function updateRunBadge(){
  const slug=currentBot;
  const role=localStorage.getItem("userRole")||"guest";
  const badge=document.getElementById("runBadge");
  const n = freeRuns[slug] ?? 3;

  if(role==="owner" || role==="buyer"){
    badge.innerHTML = `Access: <strong>Unlimited</strong>`;
  }else{
    badge.innerHTML = `Free runs left: <strong>${Math.max(0,n)}</strong>`;
  }
}

function setMode(mode){
  currentMode=mode;
  document.getElementById("tabChat").classList.toggle("active", mode==="chat");
  document.getElementById("tabFeature").classList.toggle("active", mode==="feature");
}

/** -------------------------
 *  Samples + Output
 *  ------------------------- */
function loadFeatureSamples(){
  const slug=currentBot;
  const cfg=BOT_FEATURES[slug];
  const feature=document.getElementById("featureSelect").value;
  const sampleSelect=document.getElementById("sampleSelect");
  sampleSelect.innerHTML="";
  (cfg.samples[feature]||[]).forEach((s,i)=>{
    const opt=document.createElement("option");
    opt.value=i;
    opt.textContent = "Sample " + (i+1);
    sampleSelect.appendChild(opt);
  });
  fillFromSample();
}
function fillFromSample(){
  const slug=currentBot;
  const cfg=BOT_FEATURES[slug];
  const feature=document.getElementById("featureSelect").value;
  const idx=parseInt(document.getElementById("sampleSelect").value||"0",10);
  const sample=(cfg.samples[feature]||[])[idx] || "";
  document.getElementById("userInput").value = sample;
}

function addMsg(who,text){
  const chat=document.getElementById("chatWindow");
  const div=document.createElement("div");
  div.className="msg " + (who==="me" ? "me" : "ai");
  div.textContent=text;
  chat.appendChild(div);
  chat.scrollTop=chat.scrollHeight;
}

function clearChat(){
  document.getElementById("chatWindow").innerHTML="";
  document.getElementById("upgradeNotice").style.display="none";
}

function copyOutput(){
  const chat=document.getElementById("chatWindow");
  const text=[...chat.querySelectorAll(".msg")].map(x=>x.textContent).join("\n\n");
  navigator.clipboard.writeText(text).then(()=>alert("Copied output ‚úÖ"));
}

function runDemo(){
  const slug=currentBot;
  const role=localStorage.getItem("userRole")||"guest";

  // run limit for guests
  if(role==="guest"){
    const n=freeRuns[slug] ?? 3;
    if(n<=0){
      document.getElementById("upgradeNotice").style.display="block";
      return;
    }
    freeRuns[slug]=n-1;
    localStorage.setItem("runs_"+slug, String(freeRuns[slug]));
    updateRunBadge();
  }

  const cfg=BOT_FEATURES[slug];
  const feature=document.getElementById("featureSelect").value;
  const userText=document.getElementById("userInput").value.trim();

  addMsg("me", userText || "(empty input)");

  // Smart demo output (unique per bot/feature)
  const answer = smartResponse(slug, feature, userText);
  typeOut(answer);
}

function typeOut(text){
  // typing effect for more realistic demo
  const chat=document.getElementById("chatWindow");
  const div=document.createElement("div");
  div.className="msg ai";
  chat.appendChild(div);

  let i=0;
  const t=setInterval(()=>{
    div.textContent = text.slice(0,i);
    chat.scrollTop=chat.scrollHeight;
    i+=2;
    if(i>=text.length){ clearInterval(t); div.textContent=text; }
  }, 8);
}

/** Unique smart demo generator */
function smartResponse(slug, feature, input){
  const base = (input||"").slice(0,120);
  const t = BOT_CARDS.find(b=>b.slug===slug)?.title || slug;

  const templates = {
    coachai: {
      "Mindset Reset": `‚úÖ Mindset Reset\n\nHere‚Äôs your reframe:\n‚Ä¢ Old thought: "${base || "I‚Äôm not good enough"}"\n‚Ä¢ New belief: "I am learning fast, improving daily, and I finish what I start."\n\nüî• Micro-action (today):\n1) Do 1 small task in 10 minutes\n2) Reward yourself after completing\n3) Repeat tomorrow.\n\nWant me to turn this into a daily affirmation script?`,
      "30-Day Plan": `‚úÖ 30-Day Plan\n\nWeek 1: Clarity + Momentum\n‚Ä¢ Pick one goal\n‚Ä¢ 1 daily action\n\nWeek 2: Consistency\n‚Ä¢ Track wins\n‚Ä¢ Remove distractions\n\nWeek 3: Expansion\n‚Ä¢ Add 1 growth habit\n‚Ä¢ Increase output\n\nWeek 4: Results\n‚Ä¢ Review progress\n‚Ä¢ Lock the routine\n\nüìå Your next step: Tell me your goal in ONE sentence.`,
      "Motivation Script": `üé§ Motivation Script\n\nListen ‚Äî you are not behind.\nYou are BUILDING.\n\nToday you take ONE bold step:\n‚Ä¢ Post the offer\n‚Ä¢ Share the link\n‚Ä¢ Believe in the value\n\nYou don‚Äôt need perfect.\nYou need consistent.\n\nSay this now:\n‚ÄúI am the blueprint. I am the bag. I finish what I start.‚Äù`
    },
    promopix:{
      "Caption Generator": `‚ú® ${t} Captions (5)\n\n1) ‚ÄúLuxury vibes only ‚Äî my tools do the work while I get paid üíé‚Äù\n2) ‚ÄúIf you‚Äôre building from home, this is your shortcut üî•‚Äù\n3) ‚ÄúAutomation = freedom. Tap in.‚Äù\n4) ‚ÄúWork smarter. Earn louder.‚Äù\n5) ‚Äú$39 and you‚Äôre in the DollHouse.‚Äù\n\nWant these rewritten for TikTok or Pinterest?`,
      "Hashtag Set": `#passiveincome #digitalproducts #aibusiness #sidehustleideas #pinterestmarketing #tiktokgrowth #entrepreneurlife #workfromhome #brandbuilder #onlineincome`,
      "Content Calendar": `üìÖ 7-Day Calendar\n\nMon: ‚ÄúBefore/After automation‚Äù reel\nTue: ‚Äú1 bot = 1 money move‚Äù carousel\nWed: Testimonial-style story\nThu: Tutorial ‚Äúhow to use it‚Äù\nFri: Offer reveal + link\nSat: Lifestyle + benefits\nSun: ‚ÄúWeekly recap‚Äù + CTA\n\nWant a 30-day plan too?`
    },
    sellerpro:{
      "Offer Builder": `‚úÖ Offer Builder\n\nOffer Name: ‚Äú${base || "Tha DollHouse Bot Bundle"}‚Äù\nPrice: $39\nPromise: Save time + generate sales-ready outputs\nWhat‚Äôs included:\n‚Ä¢ Bot access\n‚Ä¢ Templates\n‚Ä¢ Copy + scripts\n\nBonus:\n‚Ä¢ Swipe file pack\n‚Ä¢ 7-day launch plan\n\nCTA: ‚ÄúTap Buy ‚Äî unlock unlimited use instantly.‚Äù`,
      "Pricing Strategy": `‚úÖ Pricing Strategy\n\nCore: $39 (single bot)\nUpsell #1: $79 ‚ÄúAll 8 bots‚Äù\nUpsell #2: $149 ‚ÄúAll 8 + done-for-you prompts‚Äù\nSubscription: $19/mo updates\n\nThis structure increases your AOV while keeping entry low.`,
      "Sales Page Outline": `‚úÖ Sales Page Outline\n\n1) Hero: Big promise + $39 price\n2) Proof: What it generates\n3) Features: 3‚Äì6 bullets\n4) Demo: try it live\n5) Testimonials\n6) FAQ\n7) CTA: Buy now\n\nWant me to write the full page copy?`
    },
    designdiva:{
      "Brand Palette": `üé® Brand Palette\n\nPrimary: Teal + Cream\nAccent: Metallic Gold\nNeutrals: Soft Black + Warm Gray\nFonts:\n‚Ä¢ Headings: Cinzel / Playfair\n‚Ä¢ Body: Montserrat\n\nMood: Luxury, clean, high-end.`,
      "Template Ideas": `üß© Template Ideas (10)\n\n1) ‚ÄúOffer Reveal‚Äù card\n2) ‚ÄúHow it works‚Äù steps\n3) ‚ÄúBefore/After‚Äù results\n4) ‚Äú3 tips‚Äù carousel\n5) ‚ÄúProblem ‚Üí Solution‚Äù pin\n6) ‚ÄúFeature spotlight‚Äù\n7) ‚ÄúFAQ quick answers‚Äù\n8) ‚ÄúPricing breakdown‚Äù\n9) ‚ÄúClient win‚Äù story\n10) ‚ÄúSoft luxury quote‚Äù`,
      "Design Copy": `‚ú® Hero Copy Ideas\n\n‚Ä¢ ‚ÄúLuxury AI bots built to sell.‚Äù\n‚Ä¢ ‚ÄúTap. Try. Buy. Automate.‚Äù\n‚Ä¢ ‚ÄúYour DollHouse of digital income tools.‚Äù\n\nWant 15 more?`
    },
    glambot:{
      "Glow-Up Plan": `üíé Glow-Up Plan\n\nMorning:\n‚Ä¢ Hydrate + vitamins\n‚Ä¢ Skin: cleanse + SPF\n‚Ä¢ Confidence: affirmations\n\nNight:\n‚Ä¢ Cleanse + moisturize\n‚Ä¢ 5-min stretch\n‚Ä¢ Journal 3 wins\n\nWant a weekly routine too?`,
      "Outfit Stylist": `üë† Outfit Ideas\n\n‚Ä¢ Black silk blouse + gold hoops\n‚Ä¢ White blazer + pencil skirt\n‚Ä¢ Cream trousers + teal bag\n\nAdd:\n‚Ä¢ Gold watch\n‚Ä¢ Nude heels\n‚Ä¢ Sleek ponytail\n\nWant outfit ideas for an event?`,
      "Skincare Picks": `üß¥ Skincare Routine\n\nAM:\n‚Ä¢ Cleanser\n‚Ä¢ Vitamin C\n‚Ä¢ Moisturizer\n‚Ä¢ SPF\n\nPM:\n‚Ä¢ Cleanser\n‚Ä¢ Retinol (2‚Äì3x/week)\n‚Ä¢ Moisturizer\n\nTell me your skin type and I‚Äôll customize it.`
    },
    chefgenie:{
      "Luxury Meal Idea": `üçΩÔ∏è Luxury Meal Idea\n\nStarter: Citrus arugula salad\nMain: Garlic butter scallops + quinoa + bok choy\nSauce: Mint pistachio cream drizzle\nDessert: Vanilla berry parfait\n\nWant a full recipe with steps?`,
      "Recipe From Ingredients": `üë©‚Äçüç≥ Recipe From Ingredients\n\nBased on: "${base}"\n\n1) Saut√© aromatics\n2) Season protein\n3) Build sauce (cream or citrus)\n4) Plate with garnish\n\nWant a ‚Äúhigh-protein‚Äù version?`,
      "Nutrition Breakdown": `üìä Nutrition Estimate\n\nCalories: 520‚Äì650\nProtein: 35‚Äì45g\nCarbs: 45‚Äì55g\nFat: 18‚Äì25g\n\nWant exact numbers? Tell me portions.`
    },
    writersx:{
      "Blog Post": `‚úçÔ∏è Blog Draft\n\nTitle: ‚ÄúHow to Sell AI Bots for $39 From Home‚Äù\nIntro: Hook + pain point\nBody: Steps + examples\nCTA: Invite to buy + try demo\n\nWant the full 900-word version?`,
      "Sales Email": `üìß Sales Email\n\nSubject: ‚ÄúYour new $39 shortcut is live üíé‚Äù\nBody:\nHey love,\nYou don‚Äôt need more time ‚Äî you need better tools...\n\nCTA: Tap to unlock.\n\nWant 3 variations?`,
      "Story Outline": `üìö Story Outline\n\nCharacter: Ambitious builder\nGoal: Freedom income\nObstacle: Doubt + time\nBreakthrough: automated tools\nEnding: paid lifestyle\n\nWant scene-by-scene next?`
    },
    bizbot:{
      "Income Idea": `üí∞ Income Ideas (5)\n\n1) $39 AI bot store\n2) $7 Canva templates\n3) Pinterest pin packs\n4) Meal plan subscriptions\n5) Digital planners\n\nWant a full 30-day plan to hit $1k?`,
      "Funnel Map": `üß† Funnel Map\n\n1) TikTok / Pinterest traffic\n2) Landing page (demo)\n3) Stripe checkout\n4) Email onboarding\n5) Upsell: bundle\n\nWant a full funnel page copy?`,
      "Script Builder": `üé¨ 30-sec Script\n\n‚ÄúHey y‚Äôall ‚Äî I built something luxury and powerful...\nThis bot creates your captions, offers, AND sales scripts...\nTap the demo, then unlock unlimited use for $39.‚Äù`
    }
  };

  return templates[slug]?.[feature] || `‚úÖ ${t} Output\n\nFeature: ${feature}\nInput: "${base || "‚Äî"}"\n\nGenerated result:\n‚Ä¢ Step 1: Idea\n‚Ä¢ Step 2: Structure\n‚Ä¢ Step 3: Copy + CTA\n\nWant me to refine it?`;
}

boot();
</script>
</body>
</html>
